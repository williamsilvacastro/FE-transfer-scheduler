{"ast":null,"code":"import _objectSpread from \"C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nexport default createStore({\n  state: {\n    auth: {\n      isLoggedIn: false,\n      contaOrigem: null\n    },\n    agendamentos: [],\n    pagination: {\n      currentPage: 0,\n      totalPages: 0,\n      totalElements: 0\n    },\n    error: null\n  },\n  mutations: {\n    'auth/login': function auth_login(state, contaOrigem) {\n      state.auth.isLoggedIn = true;\n      state.auth.contaOrigem = contaOrigem;\n      state.error = null;\n    },\n    'auth/logout': function auth_logout(state) {\n      state.auth.isLoggedIn = false;\n      state.auth.contaOrigem = null;\n      state.error = null;\n    },\n    'agendamentos/setAgendamentos': function agendamentos_setAgendamentos(state, agendamentos) {\n      state.agendamentos = agendamentos;\n      state.error = null;\n    },\n    'agendamentos/setPagination': function agendamentos_setPagination(state, pagination) {\n      state.pagination = pagination;\n    },\n    'error/set': function error_set(state, error) {\n      state.error = error;\n    }\n  },\n  actions: {\n    login: function login(_ref, _ref2) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, contaOrigem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              contaOrigem = _ref2.contaOrigem;\n              _context.prev = 2;\n              if (!(contaOrigem && contaOrigem.length === 10 && /^\\d+$/.test(contaOrigem))) {\n                _context.next = 6;\n                break;\n              }\n              commit('auth/login', contaOrigem);\n              return _context.abrupt(\"return\", true);\n            case 6:\n              throw new Error('Número de conta inválido');\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](2);\n              commit('error/set', {\n                message: _context.t0.message || 'Erro ao realizar login',\n                status: 400\n              });\n              return _context.abrupt(\"return\", false);\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 9]]);\n      }))();\n    },\n    fetchAgendamentos: function fetchAgendamentos(_ref3) {\n      var _arguments = arguments;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var commit, state, _ref4, _ref4$page, page, _ref4$size, size, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref3.commit, state = _ref3.state;\n              _ref4 = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : {}, _ref4$page = _ref4.page, page = _ref4$page === void 0 ? 0 : _ref4$page, _ref4$size = _ref4.size, size = _ref4$size === void 0 ? 10 : _ref4$size;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return axios.get('/agendamentos', {\n                params: {\n                  page: page,\n                  size: size,\n                  contaOrigem: state.auth.contaOrigem\n                }\n              });\n            case 5:\n              response = _context2.sent;\n              if (response.data.content) {\n                commit('agendamentos/setAgendamentos', response.data.content);\n                commit('agendamentos/setPagination', {\n                  currentPage: response.data.number,\n                  totalPages: response.data.totalPages,\n                  totalElements: response.data.totalElements\n                });\n              } else {\n                commit('agendamentos/setAgendamentos', response.data);\n              }\n              _context2.next = 13;\n              break;\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](2);\n              commit('error/set', _context2.t0);\n              throw _context2.t0;\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[2, 9]]);\n      }))();\n    },\n    criarAgendamento: function criarAgendamento(_ref5, agendamento) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var state, commit, agendamentoComContaOrigem, response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              state = _ref5.state, commit = _ref5.commit;\n              _context3.prev = 1;\n              // Garante que a conta de origem seja a mesma do usuário logado\n              agendamentoComContaOrigem = _objectSpread(_objectSpread({}, agendamento), {}, {\n                contaOrigem: state.auth.contaOrigem\n              });\n              _context3.next = 5;\n              return axios.post('/agendamentos', agendamentoComContaOrigem);\n            case 5:\n              response = _context3.sent;\n              return _context3.abrupt(\"return\", response.data);\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](1);\n              commit('error/set', _context3.t0);\n              throw _context3.t0;\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 9]]);\n      }))();\n    },\n    excluirAgendamento: function excluirAgendamento(_ref6, id) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var commit;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              commit = _ref6.commit;\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios[\"delete\"](\"/agendamentos/\".concat(id));\n            case 4:\n              _context4.next = 10;\n              break;\n            case 6:\n              _context4.prev = 6;\n              _context4.t0 = _context4[\"catch\"](1);\n              commit('error/set', _context4.t0);\n              throw _context4.t0;\n            case 10:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[1, 6]]);\n      }))();\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","state","auth","isLoggedIn","contaOrigem","agendamentos","pagination","currentPage","totalPages","totalElements","error","mutations","auth_login","auth_logout","agendamentos_setAgendamentos","agendamentos_setPagination","error_set","actions","login","_ref","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","wrap","_callee$","_context","prev","next","length","test","abrupt","Error","t0","message","status","stop","fetchAgendamentos","_ref3","_arguments","arguments","_callee2","_ref4","_ref4$page","page","_ref4$size","size","response","_callee2$","_context2","undefined","get","params","sent","data","content","number","criarAgendamento","_ref5","agendamento","_callee3","agendamentoComContaOrigem","_callee3$","_context3","_objectSpread","post","excluirAgendamento","_ref6","id","_callee4","_callee4$","_context4","concat"],"sources":["C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\r\nimport axios from 'axios'\r\n\r\nexport default createStore({\r\n  state: {\r\n    auth: {\r\n      isLoggedIn: false,\r\n      contaOrigem: null\r\n    },\r\n    agendamentos: [],\r\n    pagination: {\r\n      currentPage: 0,\r\n      totalPages: 0,\r\n      totalElements: 0\r\n    },\r\n    error: null\r\n  },\r\n  mutations: {\r\n    'auth/login'(state, contaOrigem) {\r\n      state.auth.isLoggedIn = true\r\n      state.auth.contaOrigem = contaOrigem\r\n      state.error = null\r\n    },\r\n    'auth/logout'(state) {\r\n      state.auth.isLoggedIn = false\r\n      state.auth.contaOrigem = null\r\n      state.error = null\r\n    },\r\n    'agendamentos/setAgendamentos'(state, agendamentos) {\r\n      state.agendamentos = agendamentos\r\n      state.error = null\r\n    },\r\n    'agendamentos/setPagination'(state, pagination) {\r\n      state.pagination = pagination\r\n    },\r\n    'error/set'(state, error) {\r\n      state.error = error\r\n    }\r\n  },\r\n  actions: {\r\n    async login({ commit }, { contaOrigem }) {\r\n      try {\r\n        // Simulação de login - apenas verifica se a conta tem 10 dígitos\r\n        if (contaOrigem && contaOrigem.length === 10 && /^\\d+$/.test(contaOrigem)) {\r\n          commit('auth/login', contaOrigem)\r\n          return true\r\n        }\r\n        throw new Error('Número de conta inválido')\r\n      } catch (error) {\r\n        commit('error/set', {\r\n          message: error.message || 'Erro ao realizar login',\r\n          status: 400\r\n        })\r\n        return false\r\n      }\r\n    },\r\n    async fetchAgendamentos({ commit, state }, { page = 0, size = 10 } = {}) {\r\n      try {\r\n        const response = await axios.get('/agendamentos', {\r\n          params: { \r\n            page, \r\n            size,\r\n            contaOrigem: state.auth.contaOrigem\r\n          }\r\n        })\r\n        \r\n        if (response.data.content) {\r\n          commit('agendamentos/setAgendamentos', response.data.content)\r\n          commit('agendamentos/setPagination', {\r\n            currentPage: response.data.number,\r\n            totalPages: response.data.totalPages,\r\n            totalElements: response.data.totalElements\r\n          })\r\n        } else {\r\n          commit('agendamentos/setAgendamentos', response.data)\r\n        }\r\n      } catch (error) {\r\n        commit('error/set', error)\r\n        throw error\r\n      }\r\n    },\r\n    async criarAgendamento({ state, commit }, agendamento) {\r\n      try {\r\n        // Garante que a conta de origem seja a mesma do usuário logado\r\n        const agendamentoComContaOrigem = {\r\n          ...agendamento,\r\n          contaOrigem: state.auth.contaOrigem\r\n        }\r\n        const response = await axios.post('/agendamentos', agendamentoComContaOrigem)\r\n        return response.data\r\n      } catch (error) {\r\n        commit('error/set', error)\r\n        throw error\r\n      }\r\n    },\r\n    async excluirAgendamento({ commit }, id) {\r\n      try {\r\n        await axios.delete(`/agendamentos/${id}`)\r\n      } catch (error) {\r\n        commit('error/set', error)\r\n        throw error\r\n      }\r\n    }\r\n  }\r\n}) "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}