{"ast":null,"code":"import _objectSpread from \"C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport { createStore } from 'vuex';\nimport axios from 'axios';\nvar API_URL = 'http://localhost:8081/transfer';\nexport default createStore({\n  state: {\n    auth: {\n      isLoggedIn: false,\n      contaOrigem: null\n    },\n    agendamentos: [],\n    pagination: {\n      currentPage: 0,\n      totalPages: 0,\n      totalElements: 0\n    }\n  },\n  mutations: {\n    'auth/login': function auth_login(state, contaOrigem) {\n      state.auth.isLoggedIn = true;\n      state.auth.contaOrigem = contaOrigem;\n    },\n    'auth/logout': function auth_logout(state) {\n      state.auth.isLoggedIn = false;\n      state.auth.contaOrigem = null;\n    },\n    'agendamentos/setAgendamentos': function agendamentos_setAgendamentos(state, agendamentos) {\n      state.agendamentos = agendamentos;\n    },\n    'agendamentos/setPagination': function agendamentos_setPagination(state, pagination) {\n      state.pagination = pagination;\n    }\n  },\n  actions: {\n    login: function login(_ref, _ref2) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, contaOrigem;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              contaOrigem = _ref2.contaOrigem;\n              if (!(contaOrigem && contaOrigem.length === 10 && /^\\d+$/.test(contaOrigem))) {\n                _context.next = 5;\n                break;\n              }\n              commit('auth/login', contaOrigem);\n              return _context.abrupt(\"return\", true);\n            case 5:\n              return _context.abrupt(\"return\", false);\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    fetchAgendamentos: function fetchAgendamentos(_ref3) {\n      var _arguments = arguments;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var commit, state, _ref4, _ref4$page, page, _ref4$size, size, response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref3.commit, state = _ref3.state;\n              _ref4 = _arguments.length > 1 && _arguments[1] !== undefined ? _arguments[1] : {}, _ref4$page = _ref4.page, page = _ref4$page === void 0 ? 0 : _ref4$page, _ref4$size = _ref4.size, size = _ref4$size === void 0 ? 10 : _ref4$size;\n              _context2.prev = 2;\n              _context2.next = 5;\n              return axios.get(\"\".concat(API_URL, \"/agendamentos\"), {\n                params: {\n                  page: page,\n                  size: size,\n                  contaOrigem: state.auth.contaOrigem\n                }\n              });\n            case 5:\n              response = _context2.sent;\n              if (response.data.content) {\n                commit('agendamentos/setAgendamentos', response.data.content);\n                commit('agendamentos/setPagination', {\n                  currentPage: response.data.number,\n                  totalPages: response.data.totalPages,\n                  totalElements: response.data.totalElements\n                });\n              } else {\n                commit('agendamentos/setAgendamentos', response.data);\n              }\n              _context2.next = 13;\n              break;\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](2);\n              console.error('Erro ao buscar agendamentos:', _context2.t0);\n              throw _context2.t0;\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[2, 9]]);\n      }))();\n    },\n    criarAgendamento: function criarAgendamento(_ref5, agendamento) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var state, agendamentoComContaOrigem, response;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              state = _ref5.state;\n              _context3.prev = 1;\n              // Garante que a conta de origem seja a mesma do usuário logado\n              agendamentoComContaOrigem = _objectSpread(_objectSpread({}, agendamento), {}, {\n                contaOrigem: state.auth.contaOrigem\n              });\n              _context3.next = 5;\n              return axios.post(\"\".concat(API_URL, \"/agendamentos\"), agendamentoComContaOrigem);\n            case 5:\n              response = _context3.sent;\n              return _context3.abrupt(\"return\", response.data);\n            case 9:\n              _context3.prev = 9;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error('Erro ao criar agendamento:', _context3.t0);\n              throw _context3.t0;\n            case 13:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[1, 9]]);\n      }))();\n    },\n    excluirAgendamento: function excluirAgendamento(_, id) {\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.prev = 0;\n              _context4.next = 3;\n              return axios[\"delete\"](\"\".concat(API_URL, \"/agendamentos/\").concat(id));\n            case 3:\n              _context4.next = 9;\n              break;\n            case 5:\n              _context4.prev = 5;\n              _context4.t0 = _context4[\"catch\"](0);\n              console.error('Erro ao excluir agendamento:', _context4.t0);\n              throw _context4.t0;\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4, null, [[0, 5]]);\n      }))();\n    }\n  }\n});","map":{"version":3,"names":["createStore","axios","API_URL","state","auth","isLoggedIn","contaOrigem","agendamentos","pagination","currentPage","totalPages","totalElements","mutations","auth_login","auth_logout","agendamentos_setAgendamentos","agendamentos_setPagination","actions","login","_ref","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","wrap","_callee$","_context","prev","next","length","test","abrupt","stop","fetchAgendamentos","_ref3","_arguments","arguments","_callee2","_ref4","_ref4$page","page","_ref4$size","size","response","_callee2$","_context2","undefined","get","concat","params","sent","data","content","number","t0","console","error","criarAgendamento","_ref5","agendamento","_callee3","agendamentoComContaOrigem","_callee3$","_context3","_objectSpread","post","excluirAgendamento","_","id","_callee4","_callee4$","_context4"],"sources":["C:/Users/willi/OneDrive/Documentos/GitHub/FE-transfer-scheduler/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport axios from 'axios'\n\nconst API_URL = 'http://localhost:8081/transfer'\n\nexport default createStore({\n  state: {\n    auth: {\n      isLoggedIn: false,\n      contaOrigem: null\n    },\n    agendamentos: [],\n    pagination: {\n      currentPage: 0,\n      totalPages: 0,\n      totalElements: 0\n    }\n  },\n  mutations: {\n    'auth/login'(state, contaOrigem) {\n      state.auth.isLoggedIn = true\n      state.auth.contaOrigem = contaOrigem\n    },\n    'auth/logout'(state) {\n      state.auth.isLoggedIn = false\n      state.auth.contaOrigem = null\n    },\n    'agendamentos/setAgendamentos'(state, agendamentos) {\n      state.agendamentos = agendamentos\n    },\n    'agendamentos/setPagination'(state, pagination) {\n      state.pagination = pagination\n    }\n  },\n  actions: {\n    async login({ commit }, { contaOrigem }) {\n      // Simulação de login - apenas verifica se a conta tem 10 dígitos\n      if (contaOrigem && contaOrigem.length === 10 && /^\\d+$/.test(contaOrigem)) {\n        commit('auth/login', contaOrigem)\n        return true\n      }\n      return false\n    },\n    async fetchAgendamentos({ commit, state }, { page = 0, size = 10 } = {}) {\n      try {\n        const response = await axios.get(`${API_URL}/agendamentos`, {\n          params: { \n            page, \n            size,\n            contaOrigem: state.auth.contaOrigem\n          }\n        })\n        \n        if (response.data.content) {\n          commit('agendamentos/setAgendamentos', response.data.content)\n          commit('agendamentos/setPagination', {\n            currentPage: response.data.number,\n            totalPages: response.data.totalPages,\n            totalElements: response.data.totalElements\n          })\n        } else {\n          commit('agendamentos/setAgendamentos', response.data)\n        }\n      } catch (error) {\n        console.error('Erro ao buscar agendamentos:', error)\n        throw error\n      }\n    },\n    async criarAgendamento({ state }, agendamento) {\n      try {\n        // Garante que a conta de origem seja a mesma do usuário logado\n        const agendamentoComContaOrigem = {\n          ...agendamento,\n          contaOrigem: state.auth.contaOrigem\n        }\n        const response = await axios.post(`${API_URL}/agendamentos`, agendamentoComContaOrigem)\n        return response.data\n      } catch (error) {\n        console.error('Erro ao criar agendamento:', error)\n        throw error\n      }\n    },\n    async excluirAgendamento(_, id) {\n      try {\n        await axios.delete(`${API_URL}/agendamentos/${id}`)\n      } catch (error) {\n        console.error('Erro ao excluir agendamento:', error)\n        throw error\n      }\n    }\n  }\n}) "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}