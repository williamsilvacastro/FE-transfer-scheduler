{"ast":null,"code":"import { computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nexport default {\n  name: 'ListagemAgendamentos',\n  setup() {\n    const store = useStore();\n    const loading = computed(() => store.state.loading);\n    const agendamentos = computed(() => store.state.agendamentos);\n    const currentPage = computed(() => store.state.pagination.currentPage);\n    const totalPages = computed(() => store.state.pagination.totalPages);\n    const formatarData = data => {\n      return new Date(data).toLocaleDateString('pt-BR');\n    };\n    const carregarAgendamentos = async (page = 0) => {\n      try {\n        await store.dispatch('fetchAgendamentos', {\n          page,\n          size: 10\n        });\n      } catch (error) {\n        console.error('Erro ao carregar agendamentos:', error);\n        alert('Erro ao carregar agendamentos');\n      }\n    };\n    const mudarPagina = page => {\n      carregarAgendamentos(page);\n    };\n    const confirmarExclusao = async id => {\n      if (confirm('Tem certeza que deseja excluir este agendamento?')) {\n        try {\n          await store.dispatch('excluirAgendamento', id);\n          await carregarAgendamentos(currentPage.value);\n          alert('Agendamento excluído com sucesso!');\n        } catch (error) {\n          console.error('Erro ao excluir agendamento:', error);\n          alert('Erro ao excluir agendamento');\n        }\n      }\n    };\n    onMounted(() => {\n      carregarAgendamentos();\n    });\n    return {\n      loading,\n      agendamentos,\n      currentPage,\n      totalPages,\n      formatarData,\n      mudarPagina,\n      confirmarExclusao\n    };\n  }\n};","map":{"version":3,"names":["computed","onMounted","useStore","name","setup","store","loading","state","agendamentos","currentPage","pagination","totalPages","formatarData","data","Date","toLocaleDateString","carregarAgendamentos","page","dispatch","size","error","console","alert","mudarPagina","confirmarExclusao","id","confirm","value"],"sources":["C:\\Users\\willi\\OneDrive\\Documentos\\GitHub\\FE-transfer-scheduler\\src\\views\\ListagemAgendamentos.vue"],"sourcesContent":["<template>\r\n  <div class=\"listagem\">\r\n    <h2>Agendamentos de Transferência</h2>\r\n    \r\n    <div class=\"actions\">\r\n      <router-link to=\"/novo-agendamento\" class=\"btn-primary\">Novo Agendamento</router-link>\r\n    </div>\r\n\r\n    <div v-if=\"loading\" class=\"loading\">\r\n      Carregando...\r\n    </div>\r\n\r\n    <div v-else-if=\"agendamentos.length === 0\" class=\"empty-state\">\r\n      Nenhum agendamento encontrado.\r\n    </div>\r\n\r\n    <div v-else>\r\n      <table class=\"agendamentos-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Conta Origem</th>\r\n            <th>Conta Destino</th>\r\n            <th>Valor</th>\r\n            <th>Taxa</th>\r\n            <th>Data Agendamento</th>\r\n            <th>Data Transferência</th>\r\n            <th>Ações</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"agendamento in agendamentos\" :key=\"agendamento.id\">\r\n            <td>{{ agendamento.id }}</td>\r\n            <td>{{ agendamento.contaOrigem }}</td>\r\n            <td>{{ agendamento.contaDestino }}</td>\r\n            <td>R$ {{ agendamento.valor.toFixed(2) }}</td>\r\n            <td>R$ {{ agendamento.taxa.toFixed(2) }}</td>\r\n            <td>{{ formatarData(agendamento.dataAgendamento) }}</td>\r\n            <td>{{ formatarData(agendamento.dataTransferencia) }}</td>\r\n            <td>\r\n              <button\r\n                @click=\"confirmarExclusao(agendamento.id)\"\r\n                class=\"btn-danger\"\r\n              >\r\n                Excluir\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n\r\n      <div v-if=\"totalPages > 1\" class=\"pagination\">\r\n        <button\r\n          :disabled=\"currentPage === 0\"\r\n          @click=\"mudarPagina(currentPage - 1)\"\r\n          class=\"btn-page\"\r\n        >\r\n          Anterior\r\n        </button>\r\n        <span class=\"page-info\">\r\n          Página {{ currentPage + 1 }} de {{ totalPages }}\r\n        </span>\r\n        <button\r\n          :disabled=\"currentPage === totalPages - 1\"\r\n          @click=\"mudarPagina(currentPage + 1)\"\r\n          class=\"btn-page\"\r\n        >\r\n          Próxima\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { computed, onMounted } from 'vue'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'ListagemAgendamentos',\r\n  setup() {\r\n    const store = useStore()\r\n    const loading = computed(() => store.state.loading)\r\n    const agendamentos = computed(() => store.state.agendamentos)\r\n    const currentPage = computed(() => store.state.pagination.currentPage)\r\n    const totalPages = computed(() => store.state.pagination.totalPages)\r\n\r\n    const formatarData = (data) => {\r\n      return new Date(data).toLocaleDateString('pt-BR')\r\n    }\r\n\r\n    const carregarAgendamentos = async (page = 0) => {\r\n      try {\r\n        await store.dispatch('fetchAgendamentos', { page, size: 10 })\r\n      } catch (error) {\r\n        console.error('Erro ao carregar agendamentos:', error)\r\n        alert('Erro ao carregar agendamentos')\r\n      }\r\n    }\r\n\r\n    const mudarPagina = (page) => {\r\n      carregarAgendamentos(page)\r\n    }\r\n\r\n    const confirmarExclusao = async (id) => {\r\n      if (confirm('Tem certeza que deseja excluir este agendamento?')) {\r\n        try {\r\n          await store.dispatch('excluirAgendamento', id)\r\n          await carregarAgendamentos(currentPage.value)\r\n          alert('Agendamento excluído com sucesso!')\r\n        } catch (error) {\r\n          console.error('Erro ao excluir agendamento:', error)\r\n          alert('Erro ao excluir agendamento')\r\n        }\r\n      }\r\n    }\r\n\r\n    onMounted(() => {\r\n      carregarAgendamentos()\r\n    })\r\n\r\n    return {\r\n      loading,\r\n      agendamentos,\r\n      currentPage,\r\n      totalPages,\r\n      formatarData,\r\n      mudarPagina,\r\n      confirmarExclusao\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.listagem {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.actions {\r\n  margin-bottom: 20px;\r\n  text-align: right;\r\n}\r\n\r\n.agendamentos-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.agendamentos-table th,\r\n.agendamentos-table td {\r\n  padding: 12px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.agendamentos-table th {\r\n  background-color: #f8f9fa;\r\n  font-weight: bold;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #42b983;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n}\r\n\r\n.btn-danger {\r\n  background-color: #dc3545;\r\n  color: white;\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-page {\r\n  background-color: #f8f9fa;\r\n  border: 1px solid #ddd;\r\n  padding: 8px 16px;\r\n  margin: 0 5px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-page:disabled {\r\n  opacity: 0.5;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.page-info {\r\n  margin: 0 10px;\r\n}\r\n\r\n.loading {\r\n  text-align: center;\r\n  padding: 20px;\r\n  color: #666;\r\n}\r\n\r\n.empty-state {\r\n  text-align: center;\r\n  padding: 40px;\r\n  color: #666;\r\n  background-color: #f8f9fa;\r\n  border-radius: 4px;\r\n}\r\n</style> "],"mappings":"AA2EA,SAASA,QAAQ,EAAEC,SAAQ,QAAS,KAAI;AACxC,SAASC,QAAO,QAAS,MAAK;AAE9B,eAAe;EACbC,IAAI,EAAE,sBAAsB;EAC5BC,KAAKA,CAAA,EAAG;IACN,MAAMC,KAAI,GAAIH,QAAQ,CAAC;IACvB,MAAMI,OAAM,GAAIN,QAAQ,CAAC,MAAMK,KAAK,CAACE,KAAK,CAACD,OAAO;IAClD,MAAME,YAAW,GAAIR,QAAQ,CAAC,MAAMK,KAAK,CAACE,KAAK,CAACC,YAAY;IAC5D,MAAMC,WAAU,GAAIT,QAAQ,CAAC,MAAMK,KAAK,CAACE,KAAK,CAACG,UAAU,CAACD,WAAW;IACrE,MAAME,UAAS,GAAIX,QAAQ,CAAC,MAAMK,KAAK,CAACE,KAAK,CAACG,UAAU,CAACC,UAAU;IAEnE,MAAMC,YAAW,GAAKC,IAAI,IAAK;MAC7B,OAAO,IAAIC,IAAI,CAACD,IAAI,CAAC,CAACE,kBAAkB,CAAC,OAAO;IAClD;IAEA,MAAMC,oBAAmB,GAAI,MAAAA,CAAOC,IAAG,GAAI,CAAC,KAAK;MAC/C,IAAI;QACF,MAAMZ,KAAK,CAACa,QAAQ,CAAC,mBAAmB,EAAE;UAAED,IAAI;UAAEE,IAAI,EAAE;QAAG,CAAC;MAC9D,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK;QACrDE,KAAK,CAAC,+BAA+B;MACvC;IACF;IAEA,MAAMC,WAAU,GAAKN,IAAI,IAAK;MAC5BD,oBAAoB,CAACC,IAAI;IAC3B;IAEA,MAAMO,iBAAgB,GAAI,MAAOC,EAAE,IAAK;MACtC,IAAIC,OAAO,CAAC,kDAAkD,CAAC,EAAE;QAC/D,IAAI;UACF,MAAMrB,KAAK,CAACa,QAAQ,CAAC,oBAAoB,EAAEO,EAAE;UAC7C,MAAMT,oBAAoB,CAACP,WAAW,CAACkB,KAAK;UAC5CL,KAAK,CAAC,mCAAmC;QAC3C,EAAE,OAAOF,KAAK,EAAE;UACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK;UACnDE,KAAK,CAAC,6BAA6B;QACrC;MACF;IACF;IAEArB,SAAS,CAAC,MAAM;MACde,oBAAoB,CAAC;IACvB,CAAC;IAED,OAAO;MACLV,OAAO;MACPE,YAAY;MACZC,WAAW;MACXE,UAAU;MACVC,YAAY;MACZW,WAAW;MACXC;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}